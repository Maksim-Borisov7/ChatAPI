2026-01-18 18:00:08,652 [INFO] app_logger: Запуск сервера
2026-01-18 18:00:08,731 [INFO] app_logger: Таблицы созданы
2026-01-18 18:00:25,245 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 18:00:25,245 [INFO] app_logger: Попытка создать чат с title='1'
2026-01-18 18:00:25,253 [INFO] app_logger: Чат '1' успешно создан с id=10
2026-01-18 18:01:47,040 [INFO] app_logger: Выключение сервера
2026-01-18 18:01:48,051 [INFO] app_logger: Запуск сервера
2026-01-18 18:01:48,226 [INFO] app_logger: Таблицы созданы
2026-01-18 18:02:18,044 [INFO] app_logger: Выключение сервера
2026-01-18 22:18:17,200 [INFO] app_logger: Запуск сервера
2026-01-18 22:18:30,477 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:18:30,477 [INFO] app_logger: Попытка создать чат с title='string'
2026-01-18 22:18:30,558 [INFO] app_logger: Чат 'string' успешно создан с id=14
2026-01-18 22:18:48,329 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:18:48,330 [ERROR] app_logger: Ошибка при создании сессии: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': '', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
Traceback (most recent call last):
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\database\db.py", line 27, in get_session
    yield session
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 397, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': '', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
2026-01-18 22:19:10,131 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:19:10,131 [ERROR] app_logger: Ошибка при создании сессии: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': ' ', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
Traceback (most recent call last):
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\database\db.py", line 27, in get_session
    yield session
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 397, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': ' ', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
2026-01-18 22:24:11,148 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:24:11,148 [INFO] app_logger: Попытка отправки сообщения в чат id=1
2026-01-18 22:24:11,155 [INFO] app_logger: Сообщение успешно отправлено в чат id=1, message_id=12
2026-01-18 22:24:21,882 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:24:21,882 [INFO] app_logger: Попытка отправки сообщения в чат id=1
2026-01-18 22:24:21,886 [INFO] app_logger: Сообщение успешно отправлено в чат id=1, message_id=13
2026-01-18 22:25:11,866 [INFO] app_logger: Выключение сервера
2026-01-18 22:25:12,803 [INFO] app_logger: Запуск сервера
2026-01-18 22:25:21,552 [INFO] app_logger: Выключение сервера
2026-01-18 22:33:33,211 [INFO] app_logger: Запуск сервера
2026-01-18 22:33:47,518 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:33:47,519 [ERROR] app_logger: Ошибка при создании сессии: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': '', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
Traceback (most recent call last):
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\database\db.py", line 27, in get_session
    yield session
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 397, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: 1 validation error:
  {'type': 'value_error', 'loc': ('body', 'title'), 'msg': 'Value error, title cannot be empty', 'input': '', 'ctx': {'error': ValueError('title cannot be empty')}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 23, in create_chat
    POST /chats/
2026-01-18 22:33:51,725 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:33:51,725 [INFO] app_logger: Попытка создать чат с title='f'
2026-01-18 22:33:51,807 [INFO] app_logger: Чат 'f' успешно создан с id=19
2026-01-18 22:36:03,267 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:36:03,267 [INFO] app_logger: Попытка отправки сообщения в чат id=4
2026-01-18 22:36:03,275 [INFO] app_logger: Сообщение успешно отправлено в чат id=4, message_id=15
2026-01-18 22:36:54,996 [INFO] app_logger: Выключение сервера
2026-01-18 22:36:55,924 [INFO] app_logger: Запуск сервера
2026-01-18 22:37:15,053 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:37:15,053 [INFO] app_logger: Попытка отправки сообщения в чат id=1
2026-01-18 22:37:15,142 [INFO] app_logger: Сообщение успешно отправлено в чат id=1, message_id=16
2026-01-18 22:37:24,515 [INFO] app_logger: Выключение сервера
2026-01-18 22:41:10,857 [INFO] app_logger: Запуск сервера
2026-01-18 22:41:45,399 [INFO] app_logger: Выключение сервера
2026-01-18 22:41:46,296 [INFO] app_logger: Запуск сервера
2026-01-18 22:42:00,671 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:42:00,672 [ERROR] app_logger: Ошибка при создании сессии: 1 validation error:
  {'type': 'string_too_short', 'loc': ('body', 'text'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 44, in send_message_in_chat
    POST /chats/{id}/messages/
Traceback (most recent call last):
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\database\db.py", line 27, in get_session
    yield session
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 397, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: 1 validation error:
  {'type': 'string_too_short', 'loc': ('body', 'text'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 44, in send_message_in_chat
    POST /chats/{id}/messages/
2026-01-18 22:42:11,604 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:42:11,604 [INFO] app_logger: Попытка отправки сообщения в чат id=5
2026-01-18 22:42:11,688 [INFO] app_logger: Сообщение успешно отправлено в чат id=5, message_id=18
2026-01-18 22:42:17,102 [DEBUG] app_logger: Создана новая асинхронная сессия базы данных.
2026-01-18 22:42:17,103 [ERROR] app_logger: Ошибка при создании сессии: 1 validation error:
  {'type': 'string_too_short', 'loc': ('body', 'text'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 44, in send_message_in_chat
    POST /chats/{id}/messages/
Traceback (most recent call last):
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\database\db.py", line 27, in get_session
    yield session
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\.venv\Lib\site-packages\fastapi\routing.py", line 397, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: 1 validation error:
  {'type': 'string_too_short', 'loc': ('body', 'text'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}

  File "C:\Users\maxva\PycharmProjects\Im\ChatAPI\app\api\chats.py", line 44, in send_message_in_chat
    POST /chats/{id}/messages/
2026-01-18 22:42:46,787 [INFO] app_logger: Выключение сервера
2026-01-18 22:42:47,704 [INFO] app_logger: Запуск сервера
2026-01-18 22:42:50,538 [INFO] app_logger: Выключение сервера
